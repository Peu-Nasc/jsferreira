<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Ferreira MEI - Soluções Administrativas e Automação</title>
    <meta name="description" content="JS Ferreira MEI - Soluções inteligentes em automação de processos e suporte administrativo para otimizar o seu tempo e os seus negócios.">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="style.css">

</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Cabeçalho e Navegação -->
    <header id="header" class="bg-white shadow-md fixed w-full z-50 top-0">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="flex-shrink-0">
                <!-- O caminho para o seu logótipo -->
                <img src="imagem/logo.jpg" alt="Logótipo JS Ferreira" class="custom-logo">
            </a>
            <nav class="hidden md:flex space-x-8 items-center">
                <a href="#inicio" class="text-gray-600 hover:text-blue-600 transition duration-300">Início</a>
                <a href="#solucoes" class="text-gray-600 hover:text-blue-600 transition duration-300">Soluções</a>
                <a href="#diferenciais" class="text-gray-600 hover:text-blue-600 transition duration-300">Diferenciais</a>
                <a href="#sobre" class="text-gray-600 hover:text-blue-600 transition duration-300">Sobre Nós</a>
                <a href="#contato" class="bg-blue-600 text-white px-5 py-2 rounded-full hover:bg-blue-700 transition duration-300 shadow-lg">Fale Connosco</a>
            </nav>
            <button id="mobile-menu-button" class="md:hidden text-gray-800">
                <i data-lucide="menu"></i>
            </button>
        </div>
        <!-- Menu Móvel -->
        <div id="mobile-menu" class="hidden md:hidden bg-white">
            <a href="#inicio" class="block py-2 px-6 text-gray-600 hover:bg-gray-100">Início</a>
            <a href="#solucoes" class="block py-2 px-6 text-gray-600 hover:bg-gray-100">Soluções</a>
            <a href="#diferenciais" class="block py-2 px-6 text-gray-600 hover:bg-gray-100">Diferenciais</a>
            <a href="#sobre" class="block py-2 px-6 text-gray-600 hover:bg-gray-100">Sobre Nós</a>
            <a href="#contato" class="block py-4 px-6 text-center bg-blue-600 text-white font-bold">Fale Connosco</a>
        </div>
    </header>

    <main>
        <!-- Secção Inicial (Hero) com Vídeo de Fundo -->
        <section id="inicio" class="relative flex items-center justify-center text-center overflow-hidden">
            <div class="hero-video-container">
                <!-- Caminho para o novo vídeo -->
                <video autoplay loop muted playsinline class="hero-video">
                    <source src="videos/hero-background.mp4" type="video/mp4">
                    O seu navegador não suporta a tag de vídeo.
                </video>
            </div>
            <div class="hero-overlay"></div>
            <div class="relative z-10 container mx-auto px-6 text-white">
                <h1 class="text-4xl md:text-6xl font-bold mb-4 leading-tight animate-fade-in-down">Soluções inteligentes para otimizar o seu tempo e os seus negócios.</h1>
                <p class="text-lg md:text-xl mb-8 max-w-3xl mx-auto animate-fade-in-up">Simplificamos a burocracia e automatizamos processos para que se possa focar no crescimento da sua empresa.</p>
                <a href="#contato" class="bg-blue-600 text-white px-8 py-4 rounded-full text-lg font-semibold hover:bg-blue-700 transition duration-300 shadow-xl inline-block animate-bounce">Quero Otimizar o Meu Negócio</a>
            </div>
        </section>

        <!-- Secção de Soluções -->
        <section id="solucoes" class="py-20 bg-white section-fade-in">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">As Nossas Soluções</h2>
                    <p class="text-gray-600 mt-2 max-w-2xl mx-auto">Serviços pensados para impulsionar a eficiência da sua empresa. Clique para saber mais.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Card de Solução 1 -->
                    <div data-modal-target="#modal-extracao" class="bg-gray-50 p-8 rounded-lg shadow-lg hover:shadow-xl hover:-translate-y-2 transition-all duration-300 text-center cursor-pointer">
                        <div class="bg-blue-100 text-blue-600 rounded-full p-4 inline-flex mb-4">
                            <i data-lucide="file-search-2"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Extração Inteligente de Anexos</h3>
                        <p class="text-gray-600">Extraia anexos de centenas de PDFs automaticamente. Poupe tempo, elimine erros e organize os seus documentos com 100% de precisão.</p>
                    </div>
                    <!-- Card de Solução 2 -->
                    <div data-modal-target="#modal-distribuicao" class="bg-gray-50 p-8 rounded-lg shadow-lg hover:shadow-xl hover:-translate-y-2 transition-all duration-300 text-center cursor-pointer">
                        <div class="bg-blue-100 text-blue-600 rounded-full p-4 inline-flex mb-4">
                            <i data-lucide="folder-sync"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Distribuição Automática de Ficheiros</h3>
                        <p class="text-gray-600">Copie e cole ficheiros em múltiplas pastas de forma instantânea. Automatize a distribuição e foque-se no que realmente importa.</p>
                    </div>
                    <!-- Card de Solução 3 -->
                    <div data-modal-target="#modal-suporte" class="bg-gray-50 p-8 rounded-lg shadow-lg hover:shadow-xl hover:-translate-y-2 transition-all duration-300 text-center cursor-pointer">
                        <div class="bg-blue-100 text-blue-600 rounded-full p-4 inline-flex mb-4">
                            <i data-lucide="clipboard-list"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Apoio Administrativo Geral</h3>
                        <p class="text-gray-600">Oferecemos apoio completo em rotinas administrativas, registo de imóveis, organização de documentos e mais.</p>
                    </div>
                     <!-- Card de Solução 4 -->
                    <div data-modal-target="#modal-personalizada" class="bg-gray-50 p-8 rounded-lg shadow-lg hover:shadow-xl hover:-translate-y-2 transition-all duration-300 text-center cursor-pointer">
                        <div class="bg-blue-100 text-blue-600 rounded-full p-4 inline-flex mb-4">
                            <i data-lucide="lightbulb"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Automação Personalizada</h3>
                        <p class="text-gray-600">Tem um processo que consome o seu tempo? Analisamos o seu desafio e criamos a solução de automação ideal para a sua necessidade.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secção de Diferenciais -->
        <section id="diferenciais" class="py-20 bg-gray-100 section-fade-in">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Porquê escolher a JS Ferreira?</h2>
                    <p class="text-gray-600 mt-2 max-w-2xl mx-auto">Os nossos diferenciais garantem o sucesso e a tranquilidade do seu negócio.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                     <!-- Diferencial 1 -->
                    <div class="text-center p-6">
                        <div class="bg-blue-600 text-white rounded-full p-4 inline-flex mb-4 shadow-lg">
                            <i data-lucide="timer"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Otimização de Tempo</h3>
                        <p class="text-gray-600">Reduza horas de trabalho manual e foque-se no que realmente importa para o crescimento da sua empresa.</p>
                    </div>
                     <!-- Diferencial 2 -->
                    <div class="text-center p-6">
                        <div class="bg-blue-600 text-white rounded-full p-4 inline-flex mb-4 shadow-lg">
                            <i data-lucide="dollar-sign"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Redução de Custos</h3>
                        <p class="text-gray-600">Minimize erros, retrabalho e despesas operacionais com processos mais eficientes e automatizados.</p>
                    </div>
                     <!-- Diferencial 3 -->
                    <div class="text-center p-6">
                        <div class="bg-blue-600 text-white rounded-full p-4 inline-flex mb-4 shadow-lg">
                            <i data-lucide="shield-check"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Segurança e Conformidade</h3>
                        <p class="text-gray-600">Garantimos que os seus registos e processos estejam sempre em conformidade com as normas vigentes.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Secção Sobre Nós -->
        <section id="sobre" class="py-20 bg-white section-fade-in">
            <div class="container mx-auto px-6">
                <div class="flex flex-col md:flex-row items-center gap-12">
                    <div class="md:w-1/2">
                        <!-- O caminho para a sua imagem da secção Sobre -->
                        <img src="imagem/imagemdosobrenos.jfif" alt="Equipa JS Ferreira" class="rounded-lg shadow-2xl w-full">
                    </div>
                    <div class="md:w-1/2">
                        <h2 class="text-3xl md:text-4xl font-bold mb-4">Parceria Estratégica para o seu Negócio</h2>
                        <p class="text-gray-600 mb-6">
                            A JS Ferreira MEI nasceu do desejo de simplificar a gestão para pequenas e médias empresas. Unimos a nossa experiência administrativa com tecnologia de ponta para oferecer soluções que realmente fazem a diferença no dia a dia dos nossos clientes. A nossa missão é ser o parceiro estratégico que impulsiona o seu crescimento.
                        </p>
                        <div class="space-y-4">
                            <div class="flex items-center">
                                <i data-lucide="check-circle-2" class="text-green-500 mr-3"></i>
                                <span>Soluções personalizadas para a sua necessidade.</span>
                            </div>
                            <div class="flex items-center">
                                <i data-lucide="check-circle-2" class="text-green-500 mr-3"></i>
                                <span>Tecnologia de ponta para automação.</span>
                            </div>
                            <div class="flex items-center">
                                <i data-lucide="check-circle-2" class="text-green-500 mr-3"></i>
                                <span>Atendimento próximo e dedicado.</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secção de Testemunhos (Atualizada com Slider) -->
        <section id="depoimentos" class="py-20 bg-blue-600 text-white section-fade-in">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold mb-8">O que os nossos clientes dizem</h2>
                <div class="relative max-w-3xl mx-auto">
                    <!-- Slider Container -->
                    <div class="overflow-hidden">
                        <div id="testimonial-container" class="flex transition-transform duration-500 ease-in-out">
                            <!-- Testemunho Padrão / Carregamento -->
                            <div class="testimonial-slide flex-shrink-0 w-full">
                               <div class="bg-blue-700 p-8 rounded-xl shadow-lg">
                                   <p class="text-lg italic mb-4">Carregando testemunhos...</p>
                                   <p class="font-bold text-yellow-300">- JS Ferreira</p>
                               </div>
                            </div>
                        </div>
                    </div>
                    <!-- Controles do Slider -->
                    <button id="prev-testimonial" class="absolute top-1/2 left-0 -translate-y-1/2 -translate-x-full text-white p-2 rounded-full hover:bg-white/20 transition-colors duration-300 hidden">
                        <i data-lucide="chevron-left"></i>
                    </button>
                    <button id="next-testimonial" class="absolute top-1/2 right-0 -translate-y-1/2 translate-x-full text-white p-2 rounded-full hover:bg-white/20 transition-colors duration-300 hidden">
                        <i data-lucide="chevron-right"></i>
                    </button>
                </div>
                <!-- Botão para Deixar Avaliação -->
                <div class="mt-10">
                    <button data-modal-target="#modal-feedback" class="bg-white text-blue-600 px-8 py-3 rounded-full font-semibold hover:bg-gray-200 transition duration-300 shadow-lg inline-block">Deixar a minha avaliação</button>
                </div>
            </div>
        </section>
        
        <!-- Secção de Contacto -->
        <section id="contato" class="py-20 bg-gray-50 section-fade-in">
             <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Pronto para otimizar o seu negócio?</h2>
                    <p class="text-gray-600 mt-2 max-w-2xl mx-auto">Fale connosco e descubra como as nossas soluções podem ajudar a sua empresa a crescer. O diagnóstico é gratuito!</p>
                </div>
                <div class="max-w-4xl mx-auto bg-white p-8 md:p-12 rounded-lg shadow-2xl">
                    <form action="https://formspree.io/f/mgvlregq" method="POST">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label for="name" class="block text-gray-700 font-semibold mb-2">Nome</label>
                                <input type="text" id="name" name="name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div>
                                <label for="email" class="block text-gray-700 font-semibold mb-2">E-mail</label>
                                <input type="email" id="email" name="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                        </div>
                        <div class="mb-6">
                            <label for="message" class="block text-gray-700 font-semibold mb-2">Mensagem</label>
                            <textarea id="message" name="message" rows="5" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Como podemos ajudar o seu negócio?" required></textarea>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="bg-blue-600 text-white px-8 py-3 rounded-full text-lg font-semibold hover:bg-blue-700 transition duration-300 shadow-lg">Enviar Mensagem</button>
                        </div>
                    </form>
                    <div class="text-center mt-8 text-gray-600">
                        <p class="font-semibold mb-2">Ou entre em contacto diretamente:</p>
                        <div class="flex justify-center items-center space-x-6">
                            <a href="https://wa.me/5575981701297" target="_blank" class="flex items-center hover:text-blue-600">
                                <i data-lucide="message-circle" class="mr-2"></i> WhatsApp
                            </a>
                            <a href="tel:+5575981701297" class="flex items-center hover:text-blue-600">
                                <i data-lucide="phone" class="mr-2"></i> Ligar Agora
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <!-- ... (O código dos seus modals de soluções permanece o mesmo) ... -->

    <!-- Modal de Feedback -->
    <div id="modal-feedback" class="modal fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50 p-4 transition-opacity duration-300">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-2xl w-full relative modal-content">
            <button class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 close-modal-btn">
                <i data-lucide="x"></i>
            </button>
            <div class="text-center mb-6">
                <h2 class="text-2xl md:text-3xl font-bold text-gray-800">Gostou do nosso trabalho?</h2>
                <p class="text-gray-600 mt-2">O seu feedback é muito importante para nós!</p>
            </div>
            <form id="testimonial-form">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-4">
                    <div>
                        <label for="testimonial-name" class="block text-gray-700 font-semibold mb-2">O seu Nome</label>
                        <input type="text" id="testimonial-name" name="name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div>
                        <label for="testimonial-company" class="block text-gray-700 font-semibold mb-2">Empresa / Cargo (Opcional)</label>
                        <input type="text" id="testimonial-company" name="company" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                </div>
                <div class="mb-6">
                    <label for="testimonial-message" class="block text-gray-700 font-semibold mb-2">A sua Mensagem</label>
                    <textarea id="testimonial-message" name="message" rows="5" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Descreva a sua experiência connosco..." required></textarea>
                </div>
                <div class="text-center">
                    <button type="submit" id="submit-testimonial-btn" class="bg-blue-600 text-white px-8 py-3 rounded-full text-lg font-semibold hover:bg-blue-700 transition duration-300 shadow-lg w-full md:w-auto">Enviar Avaliação</button>
                </div>
            </form>
            <div id="form-success-message" class="hidden mt-6 text-center p-4 bg-green-100 text-green-800 rounded-lg">
                <p class="font-semibold">Obrigado!</p>
                <p>A sua avaliação foi enviada e será publicada após revisão.</p>
            </div>
             <div id="form-error-message" class="hidden mt-6 text-center p-4 bg-red-100 text-red-800 rounded-lg">
                <p class="font-semibold">Ocorreu um erro!</p>
                <p>Por favor, tente novamente mais tarde.</p>
            </div>
        </div>
    </div>


    <!-- Rodapé -->
    <footer class="bg-gray-800 text-white py-10">
        <div class="container mx-auto px-6 text-center">
            <p class="text-xl font-bold mb-2">JS Ferreira MEI</p>
            <p class="mb-4">Soluções inteligentes para otimizar o seu tempo e os seus negócios.</p>
            <div class="flex justify-center space-x-4 mb-4">
                <a href="https://www.instagram.com/js.ferreira_mei" target="_blank" class="hover:text-blue-400">
                    <i data-lucide="instagram"></i>
                </a>
                <!-- Adicione outras redes sociais se tiver -->
            </div>
            <p class="text-gray-400 text-sm">&copy; <span id="year"></span> JS Ferreira MEI. Todos os direitos reservados.</p>
        </div>
    </footer>
    
    <!-- Scripts Firebase e Lógica da Página -->
    <script type="module">
        // Importar funções necessárias do Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getFirestore, collection, getDocs, addDoc, query, where, orderBy } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

        // *********************************************************************************
        // ** IMPORTANTE: CONFIGURAÇÃO DO FIREBASE                                        **
        // ** 1. Crie um projeto em https://firebase.google.com/                          **
        // ** 2. Adicione uma aplicação Web ao seu projeto.                               **
        // ** 3. Copie o objeto de configuração do Firebase e cole-o aqui.                **
        // *********************************************************************************
        const firebaseConfig = {
            apiKey: "SUA_API_KEY",
            authDomain: "SEU_AUTH_DOMAIN",
            projectId: "SEU_PROJECT_ID",
            storageBucket: "SEU_STORAGE_BUCKET",
            messagingSenderId: "SEU_MESSAGING_SENDER_ID",
            appId: "SEU_APP_ID"
        };

        // Inicializar Firebase
        try {
            const app = initializeApp(firebaseConfig);
            const db = getFirestore(app);
            console.log("Firebase inicializado com sucesso!");

            // --- LÓGICA DO SLIDER DE TESTEMUNHOS ---
            const testimonialContainer = document.getElementById('testimonial-container');
            const prevBtn = document.getElementById('prev-testimonial');
            const nextBtn = document.getElementById('next-testimonial');
            let testimonials = [];
            let currentIndex = 0;

            async function fetchTestimonials() {
                try {
                    const testimonialsCol = collection(db, 'testimonials');
                    const q = query(testimonialsCol, where('approved', '==', true), orderBy('createdAt', 'desc'));
                    const snapshot = await getDocs(q);

                    if (snapshot.empty) {
                        testimonialContainer.innerHTML = `
                            <div class="testimonial-slide flex-shrink-0 w-full">
                               <div class="bg-blue-700 p-8 rounded-xl shadow-lg">
                                   <p class="text-lg italic mb-4">Seja o primeiro a deixar uma avaliação sobre o nosso trabalho!</p>
                                   <p class="font-bold text-yellow-300">- Equipa JS Ferreira</p>
                               </div>
                            </div>`;
                        return;
                    }

                    testimonials = snapshot.docs.map(doc => doc.data());
                    renderTestimonials();
                } catch (error) {
                    console.error("Erro ao buscar testemunhos: ", error);
                     testimonialContainer.innerHTML = `
                        <div class="testimonial-slide flex-shrink-0 w-full">
                           <div class="bg-blue-700 p-8 rounded-xl shadow-lg">
                               <p class="text-lg italic mb-4">Não foi possível carregar os testemunhos. Tente novamente mais tarde.</p>
                           </div>
                        </div>`;
                }
            }

            function renderTestimonials() {
                testimonialContainer.innerHTML = '';
                testimonials.forEach(testimonial => {
                    const slide = document.createElement('div');
                    slide.className = 'testimonial-slide flex-shrink-0 w-full';
                    slide.innerHTML = `
                        <div class="bg-blue-700 p-8 rounded-xl shadow-lg">
                            <p class="text-lg italic mb-4">"${testimonial.message}"</p>
                            <p class="font-bold text-yellow-300">- ${testimonial.name}${testimonial.company ? `, ${testimonial.company}` : ''}</p>
                        </div>`;
                    testimonialContainer.appendChild(slide);
                });
                
                if (testimonials.length > 1) {
                    prevBtn.classList.remove('hidden');
                    nextBtn.classList.remove('hidden');
                }
                updateSlider();
            }

            function updateSlider() {
                testimonialContainer.style.transform = `translateX(-${currentIndex * 100}%)`;
            }

            nextBtn.addEventListener('click', () => {
                currentIndex = (currentIndex + 1) % testimonials.length;
                updateSlider();
            });

            prevBtn.addEventListener('click', () => {
                currentIndex = (currentIndex - 1 + testimonials.length) % testimonials.length;
                updateSlider();
            });
            
            // --- LÓGICA DO FORMULÁRIO DE ENVIO DE TESTEMUNHOS ---
            const testimonialForm = document.getElementById('testimonial-form');
            const successMessage = document.getElementById('form-success-message');
            const errorMessage = document.getElementById('form-error-message');
            const submitBtn = document.getElementById('submit-testimonial-btn');

            testimonialForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                submitBtn.disabled = true;
                submitBtn.textContent = 'Enviando...';

                const name = document.getElementById('testimonial-name').value;
                const company = document.getElementById('testimonial-company').value;
                const message = document.getElementById('testimonial-message').value;


                try {
                    await addDoc(collection(db, 'testimonials'), {
                        name,
                        company,
                        message,
                        approved: false, // Novos testemunhos precisam de aprovação
                        createdAt: new Date()
                    });

                    testimonialForm.reset();
                    successMessage.classList.remove('hidden');
                    errorMessage.classList.add('hidden');
                    
                    setTimeout(() => {
                        closeModal(document.getElementById('modal-feedback'));
                        successMessage.classList.add('hidden');
                    }, 3000);


                } catch (error) {
                    console.error("Erro ao adicionar testemunho: ", error);
                    errorMessage.classList.remove('hidden');
                    successMessage.classList.add('hidden');
                } finally {
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Enviar Avaliação';
                }
            });

            // Carregar testemunhos ao iniciar
            fetchTestimonials();

        } catch (e) {
            console.error("Erro na inicialização do Firebase. Verifique a sua configuração.", e);
            document.getElementById('testimonial-container').innerHTML = `
                <div class="testimonial-slide flex-shrink-0 w-full">
                   <div class="bg-blue-700 p-8 rounded-xl shadow-lg">
                       <p class="text-lg italic mb-4 text-red-300">Erro de configuração. Não foi possível conectar à base de dados de testemunhos.</p>
                   </div>
                </div>`;
        }


        // --- Resto do seu script (Menus, Modals, etc.) ---
        lucide.createIcons();

        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });
        
        document.getElementById('year').textContent = new Date().getFullYear();

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.section-fade-in').forEach(section => {
            observer.observe(section);
        });

        const openModalButtons = document.querySelectorAll('[data-modal-target]');
        
        openModalButtons.forEach(button => {
            button.addEventListener('click', () => {
                const modal = document.querySelector(button.dataset.modalTarget);
                openModal(modal);
            });
        });

        function openModal(modal) {
            if (modal == null) return;
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            document.body.style.overflow = 'hidden';
            
            const closeModalButtons = modal.querySelectorAll('.close-modal-btn');
            closeModalButtons.forEach(button => {
                button.addEventListener('click', () => closeModal(modal));
            });
            modal.addEventListener('click', e => {
                if (e.target === modal) closeModal(modal);
            });
        }

        function closeModal(modal) {
            if (modal == null) return;
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            document.body.style.overflow = 'auto';
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                const openModal = document.querySelector('.modal:not(.hidden)');
                if (openModal) closeModal(openModal);
            }
        });
    </script>
</body>
</html>

